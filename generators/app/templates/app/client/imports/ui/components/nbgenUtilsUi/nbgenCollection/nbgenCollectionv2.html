<div class="full-absolute" layout="column">
    <div nbgen-template="$tmvCollection.$headingViewTemplate"
         flex="none">
    </div>
    <div ng-if="$tmvCollection.options.customHeadingTemplate"
        nbgen-template="$tmvCollection.options.customHeadingTemplate">
    </div>
    <md-content class="nbgen-collection-container window-relative" flex ng-hide="$tmvCollection.$operationPending === true">
        <div class="tmv-collection-loading fade-anim" ng-show="$tmvCollection.$showLoading === true || $tmvCollection.$subscriptionReady === false">
            <span translate="global.common.loading"></span>
        </div>
        <div class="full-absolute nbgen-collection-list" ng-hide="$tmvCollection.showDetails === true"
            layout="column" ng-if="!$tmvCollection._detailsOnly" ng-class="{'nbgen-active': $tmvCollection.showDetails !== true}">
            <div ng-if="$tmvCollection.options.preListTemplate" flex="none"
                nbgen-template="$tmvCollection.options.preListTemplate">
            </div>
            <div class="full-absolute"
                ng-show="$tmvCollection.$collectionCount === 0 && $tmvCollection.$subscriptionReady === true">
                <span class="centered delayed-display" translate="global.common.noData" md-colors="{color: 'warn'}"></span>
            </div>
            <div flex>
                <tmv-list
                    index-at="$tmvCollection.indexAt(index)"
                    item-count="$tmvCollection.itemCount()"
                    tmv-layout="$tmvCollection.layout"
                    search-text="$tmvCollection.searchText"
                    on-click="$tmvCollection.itemSelected($event, item, index)"
                    on-edit="$tmvCollection.editSelected($event, item, index)"
                    on-delete="$tmvCollection.confirmDelete($event, item)"
                    hide-edit="$tmvCollection.hideEdit(item)"
                    hide-delete="$tmvCollection.hideDelete(item)"
                    hide-action="$tmvCollection.hideAction(item)"
                    edit-disabled="$tmvCollection.editDisabled(item)"
                    delete-disabled="$tmvCollection.deleteDisabled(item)"
                    initials="$tmvCollection.getInitials"
                    delete-label="$tmvCollection.$labels.deleteLabel"
                    edit-label="$tmvCollection.$labels.editLabel"
                    on-item="$tmvCollection.onItem(item)"
                    context="$tmvCollection"
                    >
                </tmv-list>
            </div>
            <div ng-if="$tmvCollection.options.postListTemplate"
                nbgen-template="$tmvCollection.options.postListTemplate">
            </div>
        </div>
        <form name="$tmvCollection.editForm" novalidate="" class="full-absolute nbgen-collection-form tmv-background-hue-3-color-bg"
            ng-if="$tmvCollection.showDetails === true"
            ng-class="{'nbgen-active': $tmvCollection.showDetails === true, 'tmv-card-view': $tmvCollection.formSchema.cardView !== false, 'tmv-compressed-view-wrapper': !$tmvCollection.fullWidthView }"
            ng-cloak>
            <div class="nbgen-collection-form-content window-maximize" layout="column">
                <div class="preform-template md-body-2 tmv-background-color-bg md-subhead" ng-show="$tmvCollection.options.preFormTemplate"
                    nbgen-template="$tmvCollection.options.preFormTemplate"
                    flex="none" layout="column" layout-align="center start" layout-gt-xs="row" layout-align-gt-xs="start center" ng-cloak>
                </div>
                <md-divider ng-show="$tmvCollection.options.preFormTemplate"></md-divider>
                <md-content class="nbgen-tmv-form" flex>
                    <div class="tmv-collection-form-content-wrapper">
                        <tmv-form
                            form-schema="$tmvCollection.formSchema"
                            form-model="$tmvCollection.$currentItem"
                            read-only="$tmvCollection.viewMode == 'view'"
                            >
                        </tmv-form>
                    </div>
                    <div ng-show="$tmvCollection.options.postFormTemplate"
                        nbgen-template="$tmvCollection.options.postFormTemplate"
                        >
                    </div>
                </md-content>
            </div>
        </form>
    </md-content>
</div>
